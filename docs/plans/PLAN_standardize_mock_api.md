# êµ¬í˜„ ê³„íšì„œ: Main Mock API í‘œì¤€í™” (API Standardization)

**ìƒíƒœ**: âœ… ì™„ë£Œ (Completed)
**ì‹œì‘ì¼**: 2025-12-24
**ì™„ë£Œ ì˜ˆì •ì¼**: 2025-12-24
**ìµœì¢… ìˆ˜ì •ì¼**: 2025-12-24

---

**âš ï¸ ì¤‘ìš” ì§€ì¹¨**: ê° ë‹¨ê³„(Phase) ì™„ë£Œ í›„ ë‹¤ìŒì„ ìˆ˜í–‰í•˜ì‹­ì‹œì˜¤:
1. âœ… ì™„ë£Œëœ íƒœìŠ¤í¬ ì²´í¬ë°•ìŠ¤ í‘œì‹œ
2. ğŸ§ª ëª¨ë“  í’ˆì§ˆ ê²Œì´íŠ¸(Quality Gate) ê²€ì¦ ëª…ë ¹ì–´ ì‹¤í–‰
3. âš ï¸ ëª¨ë“  í’ˆì§ˆ ê²Œì´íŠ¸ í•­ëª©ì´ í†µê³¼í•˜ëŠ”ì§€ í™•ì¸
4. ğŸ“… ìƒë‹¨ì˜ "ìµœì¢… ìˆ˜ì •ì¼" ì—…ë°ì´íŠ¸
5. ğŸ“ "ë…¸íŠ¸ ë° ë°°ìš´ ì " ì„¹ì…˜ì— ê¸°ë¡
6. â¡ï¸ ê·¸ í›„ ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰

â›” **í’ˆì§ˆ ê²Œì´íŠ¸ë¥¼ ê±´ë„ˆë›°ê±°ë‚˜ ì‹¤íŒ¨í•œ ìƒíƒœë¡œ ì§„í–‰í•˜ì§€ ë§ˆì‹­ì‹œì˜¤.**

---

## ğŸ“‹ ê°œìš” (Overview)

### ê¸°ëŠ¥ ì„¤ëª…
í˜„ì¬ `app/main` ë¸”ë£¨í”„ë¦°íŠ¸ì˜ Mock API ì—”ë“œí¬ì¸íŠ¸ë“¤ì€ ë¦¬ìŠ¤íŠ¸ë‚˜ ë”•ì…”ë„ˆë¦¬ë¥¼ ì§ì ‘ `jsonify()`í•˜ì—¬ ë°˜í™˜í•˜ê³  ìˆìŠµë‹ˆë‹¤.
ì´ë¥¼ í‘œì¤€í™”ëœ JSON í¬ë§·(`status`, `data`, `message`)ìœ¼ë¡œ ë˜í•‘í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ê°€ ì¼ê´€ëœ ë°©ì‹ìœ¼ë¡œ ì‘ë‹µì„ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ ê°œì„ í•©ë‹ˆë‹¤.

### ì„±ê³µ ê¸°ì¤€
- [ ] ê³µí†µ ì‘ë‹µ í¬ë§·ì„ ìƒì„±í•˜ëŠ” ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜(`success_response`, `error_response`)ê°€ êµ¬í˜„ë˜ì–´ì•¼ í•¨.
- [ ] `app/main`ì˜ ëª¨ë“  ì—”ë“œí¬ì¸íŠ¸(`/district`, `/building`, `/predict/location`)ê°€ ì´ í¬ë§·ì„ ë”°ë¼ì•¼ í•¨.
- [ ] í”„ë¡ íŠ¸ì—”ë“œ(`index.html` JS)ê°€ ë³€ê²½ëœ ì‘ë‹µ êµ¬ì¡°(`res.data`)ë¥¼ ì˜¬ë°”ë¥´ê²Œ íŒŒì‹±í•˜ì—¬ ì°¨íŠ¸ë¥¼ ë Œë”ë§í•´ì•¼ í•¨.
- [ ] ê´€ë ¨ í†µí•© í…ŒìŠ¤íŠ¸ê°€ ë³€ê²½ëœ ìŠ¤í‚¤ë§ˆë¥¼ ê²€ì¦í•´ì•¼ í•¨.

### ì‚¬ìš©ì ì˜í–¥
- **ìœ ì§€ë³´ìˆ˜ì„±**: API ì‘ë‹µ êµ¬ì¡°ê°€ í†µì¼ë˜ì–´ í”„ë¡ íŠ¸ì—”ë“œ ì—°ë™ì´ ì‰¬ì›Œì§.
- **í™•ì¥ì„±**: ì—ëŸ¬ ë©”ì‹œì§€ë‚˜ ë©”íƒ€ë°ì´í„° ì¶”ê°€ê°€ ìš©ì´í•´ì§.

---

## ğŸ—ï¸ ì•„í‚¤í…ì²˜ ê²°ì •ì‚¬í•­

| ê²°ì • í•­ëª© | ê·¼ê±° | íŠ¸ë ˆì´ë“œì˜¤í”„ |
|----------|-----------|------------|
| **ì‘ë‹µ ë˜í¼(Wrapper)** | `{ "status": "success", "data": ..., "message": null }` êµ¬ì¡° ì±„íƒ | JSend ë“± í‘œì¤€ ìŠ¤íƒ€ì¼ ì¤€ìˆ˜ |
| **ìœ„ì¹˜** | `app/utils.py`ì— í—¬í¼ í•¨ìˆ˜ ì •ì˜ | ì—¬ëŸ¬ ë¸”ë£¨í”„ë¦°íŠ¸ì—ì„œ ì¬ì‚¬ìš© ê°€ëŠ¥ |

---

## ğŸ“¦ ì˜ì¡´ì„± (Dependencies)

- ì—†ìŒ (í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° Flask ì‚¬ìš©)

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì „ëµ

### í…ŒìŠ¤íŠ¸ ì ‘ê·¼ ë°©ì‹
- **Integration Test**: API ì—”ë“œí¬ì¸íŠ¸ë¥¼ í˜¸ì¶œí•˜ê³  ì‘ë‹µ JSONì˜ í‚¤(`status`, `data`)ë¥¼ ê²€ì¦.
- **Frontend Verification**: ëŒ€ì‹œë³´ë“œ ì°¨íŠ¸ê°€ ê¹¨ì§€ì§€ ì•Šê³  ë‚˜ì˜¤ëŠ”ì§€ í™•ì¸.

---

## ğŸš€ êµ¬í˜„ ë‹¨ê³„ (Implementation Phases)

### Phase 1: ì‘ë‹µ ìœ í‹¸ë¦¬í‹° êµ¬í˜„ ë° í…ŒìŠ¤íŠ¸ ì—…ë°ì´íŠ¸ ğŸ› ï¸
**ëª©í‘œ**: í‘œì¤€ ì‘ë‹µ í—¬í¼ë¥¼ ë§Œë“¤ê³ , í…ŒìŠ¤íŠ¸ê°€ ì´ë¥¼ ê¸°ëŒ€í•˜ë„ë¡ ìˆ˜ì •í•©ë‹ˆë‹¤(Red).
**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 1ì‹œê°„

#### Tasks

**ğŸ”´ RED: ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì‘ì„±**
- [x] **Test 1.1**: `tests/integration/test_mock_api.py` ìˆ˜ì •
  - ê¸°ì¡´: `assert isinstance(data, list)`
  - ë³€ê²½: `assert data['status'] == 'success'`, `assert isinstance(data['data'], list)`

**ğŸŸ¢ GREEN: í…ŒìŠ¤íŠ¸ í†µê³¼ë¥¼ ìœ„í•œ êµ¬í˜„**
- [x] **Task 1.2**: `app/utils.py` ìƒì„±
  - `success_response(data, message=None, code=200)` êµ¬í˜„
  - `error_response(message, code=400)` êµ¬í˜„
- [x] **Task 1.3**: `app/main/__init__.py` ë¦¬íŒ©í† ë§
  - ê¸°ì¡´ `jsonify(...)` -> `success_response(...)` êµì²´

**ğŸ”µ REFACTOR: ì½”ë“œ ê°œì„ **
- [x] **Task 1.4**: í”„ë¡ íŠ¸ì—”ë“œ JS ìˆ˜ì • (`app/templates/main/index.html`)
  - `fetch` ì‘ë‹µ ì²˜ë¦¬ ì‹œ `response.json()` í›„ `data.data` ì ‘ê·¼ìœ¼ë¡œ ë³€ê²½

#### Quality Gate âœ‹
- [x] `make test` í†µê³¼
- [x] ë©”ì¸ ëŒ€ì‹œë³´ë“œ ì°¨íŠ¸ ì •ìƒ ë Œë”ë§ (ë¡œê·¸ì¸ í›„ í™•ì¸)

---

## ğŸ“Š ì§„í–‰ ìƒí™© ì¶”ì 

### ì™„ë£Œ ìƒíƒœ
- **Phase 1**: âœ… 100%

**ì „ì²´ ì§„í–‰ë¥ **: 100% ì™„ë£Œ
